\section{Обратная индукция и конечные игры с совершенной информацией}

Для того чтобы внимательнее посмотреть на обратную индукцию в
конечной игре с совершенной информацией, начнем с определения
оптимального действия в последних вершинах дерева, где принимается
решение (т.\,е. тех вершинах, для которых последователи~--- это
только терминальные вершины). Решение, принимаемое игроком в такой
вершине, не зависит уже от стратегического взаимодействия и потому
является простой задачей принятия решения. Затем мы можем обратиться
к предпоследней  вершине и найти оптимальное решение там, предвидя,
естественно, ход, который будет сделан в последней вершине. И так
далее.

Рассмотрим пример (рис.\,????).


ExtForm1


Обратная индукция дает нам ситуацию (набор стратегий) ($\sigma_1$, $\sigma_2$,
$\sigma_3$):
$$
\sigma_1=R,\quad \sigma_2=(a,\,\,{\mbox{\rm если 1 играет}}\,\, R),
$$

$$
\sigma_3=({r, \quad{\mbox{\rm если 1 играет}}\,\, L;
r,\quad{\mbox{\rm если 1 играет}}\,\, R\,\, {\mbox{\rm и 2
играет}}\,\,a; l,\quad{\mbox{\rm если 1 играет}}\,\, R\,\,
{\mbox{\rm и 2 играет}}\,\,b.})
$$

Кратко, мы обозначим эту стратегию как
$$
\sigma_3=\Biggl(\begin{array}{c} r\\ r\\ l \end{array}\Biggr)
$$
Обратим внимание на то, что это есть равновесие по Hэшу.
Действительно, рассмотрим указанный набор стратегий
$(\sigma_1, \sigma_2, \sigma_3).$
Если первый игрок отклонится от выбранной стратегии и сыграет
$L$ вместо $R$, то при данных стратегиях остальных игроков
он получит выигрыш $-1$, а это означает, что ему отклоняться
не выгодно.

Предположим теперь, что отклоняется второй игрок: вместо $a$
он играет $b$. Тогда при данных стратегиях первого и третьего
игроков он получит выигрыш $0$, что опять же означает, что ему
отклоняться не выгодно.

Предположим, наконец, что отклониться решает третий игрок. Прежде
всего заметим, что при указанных стратегиях первого и второго игроков
третий игрок оказывается в своем втором (среднем) информационном
множестве, поэтому изменение первой или третьей компоненты его стратегии
$\sigma_3$ никак не повлияет на его выигрыш. Если же он изменит вторую
компоненту своей стратегии, то есть в среднем информационном множестве
сыграет $l$ вместо $r$, то он вместо четырех получит выигрыш, равный двум.
Это означает, что третьему игроку также не выгодно отклоняться от
выбранной стратегии. Таким образом, указанный набор стратегий образует
равновесие по Нэшу.

Однако в этой игре есть еще равновесия по Hэшу в чистых стратегиях,
в которых стратегии третьего игрока~--- это
$$
\sigma_3=\Biggl(\begin{array}{c} l\\ r\\ l \end{array}\Biggr)
$$
или
$$
\sigma_3=\Biggl(\begin{array}{c}l\\ r\\ r \end{array}\Biggr).
$$

Однако можно проверить, что последние два равновесия по Нэшу не удовлетворяют
принципу последовательной рациональности. В самом деле, в первой
из этих двух стратегий в левом информационном множестве играть налево
нерационально, так как $5>0$. Во второй стратегии, кроме того,
нерационально играть $r$ в правом информационном множестве.

Общая теорема здесь выглядит следующим образом:
\begin{proposition}
В любой конечной игре с совершенной информацией $\Gamma_E$
существует ситуация равновесия по Hэшу в чистых стратегиях, которая
может быть найдена с помощью обратной индукции. Более того, если ни
один из игроков не имеет одинаковых выигрышей ни в одной из
терминальных вершин, то существует единственное равновесие по Нэшу, которое может
быть получено таким образом.
\end{proposition}

Здесь следует подчеркнуть, что данное утверждение вовсе \emph{не означает},
что существует \emph{единственное} равновесие по Нэшу. Равновесий может
быть несколько, но только одно из них может быть (в условиях
теоремы) найдено с помощью обратной индукции.

Здесь представляется уместным напомнить еще раз, что оптимальная
(равновесная) стратегия (как и любая другая стратегия)~--- это \emph{
полный план} действий игрока. Она задает наилучшие ходы в \emph{каждой}
вершине (каждом информационном множестве), в которой правила игры предписывают
его ход, даже если многие (или даже большинство) из них никогда не будут
достигнуты при розыгрыше игры. Это задание важно для игроков, делающих
предшествующие ходы, для их предвидения того, \emph{что} могло бы
произойти, если бы они выбрали другие ходы, а потому является важной
составляющей для определения их лучших ходов в предшествующих вершинах.



\section{Совершенное под-игровое равновесие по Нэшу}

Рассмотрим ситуацию, которая у нас уже была с входом в рынок. Но
теперь модифицируем ее слегка, считая (см. Mas-Colell, Whinston,
Green), что теперь после входа {\it обе} фирмы могут выбирать,
воевать или нет (принять) (рис.\,?????), причем делают это они
одновременно и независимо.

ExtForm2



Hормальная форма игры с одновременными ходами (после входа $E$) есть
(рис.\,10):

\begin{center}
\begin{tabular}{cccc}
&&\multicolumn{2}{c}{I}\\
&&\,\,\, Война &  Нет\\
$\begin{array}{c} {}\\ E\\ {}\\ \end{array}$ &$\begin{array}{c} война\\ \\  нет\end{array}$&
\multicolumn{2}{c}{$\left(\begin{array}{ccc}
(-3,-1)&&(1,-2)\\
\\
(-2,-1)&&(3,1) \end{array} \right)$}\\
\multicolumn{4}{c}{}\\
\multicolumn{4}{c}{Рис. 10.}\\
\end{tabular}
\end{center}

В ней равновесие по Hэшу~--- это (HЕТ, HЕТ).

Hетрудно проверить, что в исходной игре есть 3 равновесия по Нэшу в
чистых стратегиях ($\sigma_E,\sigma_I$):

((нет; принять если вход), (война, если $E$ входит));

((нет; война, если вход), (война, если $E$ входит));

((вход; принять если вход), (принять, если $E$ входит)).

Убедимся, например, что первый из указанных наборов стратегий
образует равновесие по Нэшу. Действительно, предположим, что
отклониться собирается новичок. Если он изменит свой ход в своем
втором информационном множестве, то выигрыш его не изменится.
Если же он изменит свою первую компоненту, решаясь на вход, то,
поскольку укоренившаяся фирма "воюет"\, то новичок разве лишь проиграет,
независимо от того как он будет играть в своем втором информаиционном
множестве.

Если же решит отклониться укоренившаяся фирма, то поскольку новичок
решает не входить, то для укоренившейся фирмы ничего не изменится.
Аналогично проверяется то, что два других набора стратегий также
определяют равновесие по Нэшу.

Обратим внимание на то, что первые две стратегии для $E$ не кажутся
очень разумными (мы уже упоминали это, когда говорили о том, что
в стратегии указываются ходы даже в тех информационных множествах,
которые реально не достигаются), но стратегии~--- это, по определению,
полный план.

Заметим, что (нет, нет)~--- единственное равновесие по Нэшу в игре с
одновременными ходами. Поэтому естественно ожидать, что обе фирмы
сыграют принять, следуя за входом $E$. Но если это так, то
фирма  $E$ должна входить. Поэтому логика последовательной рациональности
говорит, что только последнее равновесие должно быть разумным
предсказанием. Для того, чтобы оправдать выбор такого равновесия,
нам потребуется ввести несколько новых понятий.

Итак, перейдем к формальным определениям.

\begin{definition}
Под-игрой\footnote{ Subgame.} игры $\Gamma_E$ в позиционной форме
называется такое поддерево дерева исходной игры, что:
\begin{itemize}
\item[(1)] его начальная вершина~--- одноточечное информационное
множество и оно содержит все последующие (непосредственно и далее)
за ней вершины и только их;

\item[(2)] если вершина $x$ лежит в под-игре, то все вершины $x'\in
H(x)$ тоже лежат в этой под-игре, где $H(x)$~--- информационное
множество, содержащее $x$.
\end{itemize}
\end{definition}

На рис.\,????? две под-игры~--- сама игра и игра с одновременными
ходами (начинающаяся с вершины, соответствующей второму игроку). Обведенная пунктиром
часть дерева не является под-игрой, так
как разрезается информационное множество, что недопустимо.


ExtForm3



Заметим, что в игре с совершенной информацией каждая вершина (кроме
терминальной) инициирует под-игру.

Легко видеть, что в соответствии с определением стратегий в
позиционной игре любая стратегия игрока в позиционной игре
индуцирует его стратегию в под-игре: поскольку стратегия, по
определению, есть отображение, ставящее в соответствие ход \emph{
в каждом информаиционном множесте}, то тем самым оно ставит
в соответствие ход и в каждом информационном множестве под-игры.
Эта стратегия является сужением
(ограничением) исходной стратегии (сужением соответствующего
отображения) на информационные множества игрока, лежащие в
под-игре.

\begin{definition}
Ситуация (набор стратегий) $\sigma=(\sigma_1,\ldots,\sigma_n)$ в
игре в позиционной форме $\Gamma_E$ называется совершенным
(под-игровым) равновесием по Hэшу, если она индуцирует равновесие по
Hэшу в каждой под-игре.
\end{definition}

Иными словами, если мы рассмотрим набор стратегий всех игроков на
информационных множествах произвольной под-игры, каждая из которых
является сужением (ограничением) стратегий игроков в исходной игре,
то есть заданы на всех информационных множествах, образующих
равновесие по Нэшу во всей игре, то получающийся набор стратегий
образует рановесиве по Нэшу в рассматриваемой под-игре.

Нетрудно заметить, что в приведенном примере первые два набора
стратегий не являются СПРН, так как не индуцируют равновесие по Нэшу в
пост-входной игре.

Далее мы для краткости будем писать СПРH вместо "совершенное
под-игровое равновесие по Hэшу"\footnote{ Subgame perfect Nash
equilibrium.}. Ясно, что СПРH является, конечно же, равновесием по Нэшу, но не
каждое равновесие по Нэшу, как например, в рассмотренном только что примере,
является СПРH\footnote{ Заметим, что СПРH называется иногда также
абсолютным равновесием (см., например, Петросян, Зенкевич, Семина,
1998).}.

В конечных играх с совершенной информацией  множество СПРH совпадает
с множеством pавновесий по Нэшу, которые могут быть получены с помощью обратной
индукции.

\begin{proposition}
В любой  конечной игре с совершенной информацией $\Gamma_E$
существует СПРH в чистых стратегиях. Если все выигрыши всех игроков
различны в любых двух терминальных вершинах, то оно единственно.
\end{proposition}

Для определения множества СПРH в общей (конечной) игре в позиционной форме
$\Gamma_E$ процедура обратной индукции может быть обобщена следующим
образом:
\begin{itemize}
\item[1.] Hачинаем с конца дерева игры и определяем равновесия по
Hэшу для каждой из концевых под-игр, т.\,е. под-игр, не имеющих
собственных под-игр.
\item[2.] Выбираем одно из равновесий
по Hэшу в каждой из этих концевых под-игр и рассматриваем
редуцированную игру, в которой эти концевые под-игры заменяются
выигрышами, получающимися в этих под-играх, когда игроки используют
эти равновесные стратегии.
\item[3.] Повторяем шаги 1 и 2 для редуцированных игр. Продолжаем
эту процедуру до тех пор, пока не будут определены все ходы в игре
$\Gamma_E$. Hабор ходов в каждом из информационных множеств игры
$\Gamma_E$ образует СПРH.  \item[4.] Если ни на одном из шагов
процесса не возникала множественность равновесий по Hэшу, то
полученное СПРH единственно.  Если же множественность равновесий
имела место, то множество всех СПРH получается с помощью повторения
этой процедуры для каждого возможного равновесия, возникающего в
рассматриваемых под-играх.  \end{itemize}

Рассмотрим следующую игру (Osborne, Rubinstein, 1994). Первый игрок
предлагает распределение двух (равноценных) единиц некоего товара:
соответственно, это может быть $(2,0)$, когда первый игрок получает
обе единицы товара, а второй не получает ничего; либо $(1,1)$, когда
оба игрока получают одной единице, наконец он может предложить $(0,2)$,
отдавая все второму игроку.  После этого второй игрок либо соглашается
(обозначим соответствующий ход через $y$ (yes)) на предложение первого,
тогда распределение соответствует предложению
первого игрока, либо второй игрок отвергает предложение первого (говоря
"no"\, соответственно ход $n$), тогда оба игрока ничего не получают.
Дерево соответствующей игры изображено на рис. ???.


ExtForm4



В этой игре 9 равновесий по Нэшу, из которых четыре приводят к распределению
$(2,0)$. Это пары стратегий \textbf{$(2,0), yyy$}, где $yyy$ ~--- это стратегия
второго игрока, в которой он принимает предложение первого в каждом
из трех (мы считаем слева направо) его информационных множеств, а также
$(2,0), yyn$, $(2,0), ynn$ и $(2,0), yny$.

Два равновесия приводят к исходу $(1,1)$: это пары стратегий
\textbf{$(1,1), nyy$} и $(1,1), nyn$.
Одно равновесие дает исход $(0,2)$: это $(0,2), nny$. Наконец, еще
есть два равновесия, приводящих к исходу $(0,0)$: это пары стратегий
$(2,0), nny$ и $(2,0), nnn$.

Из указанных девяти равновесий по Нэшу \emph{только два} (они выделены в тексте
полужирным шрифтом) являются совершенными под-игровыми равновесиями по Нэшу.



\begin{proposition}
Рассмотрим игру в позиционной форме $\Gamma_E$ и некоторую ее
под-игру $S$.  Предположим, что набор $\sigma^S$ стратегий является
СПРH в под-игре $S$ и пусть $\widehat\Gamma_E$~--- редуцированная
игра, образованная заменой $S$ терминальной вершиной с выигрышами,
равными выигрышам, возникающим при игре $\sigma^S.$ Тогда
\begin{itemize}
\item[(1)] в любом СПРH $\sigma$ игры $\Gamma_E$, в которой
$\sigma^S$~--- это набор стратегий, которые играются в под-игре $S,$
ходы игроков в информационных множествах вне $S$ должны образовывать
СПРH  игры $\widehat\Gamma_E$;
\item[(2)]  если $\hat\sigma$~--- СПРH в $\widehat\Gamma_E$, то
набор $\sigma$, приписывающий ходы в соответствии с $\sigma^S$ в
информационных множествах из $S$ и ходы в соответствии с $\hat
\sigma$  в информационных множествах вне $S,$ является CПРH в
$\Gamma_E$.
\end{itemize}
\end{proposition}

Доказательства этих предложений можно  найти, например, в учебнике
Mas-Colell, Whinston, Green.

На рис. ExtForm5 и ExtForm6 мы проиллюстрировали это предложение.
На рис. ExtForm5 выделена траектория, по которой развивается игра, если
играется набор стратегий $\sigma^S$ в под-игре $S$. На рис. ExtForm6 изображена
редуцированная игра $\widehat\Gamma_E$, получающаяся из исходной игры заменой
под-игры $S$ соответствующим набором выигрышей игроков, если в $S$ они следуют
набору стратегий $\sigma^S$. Таким образом, если набор стратегий $\sigma^S$,
образующий равновесие по Нэшу в игре $\widehat\Gamma_E$, дополнить набором
стратегий $\sigma^S$, то мы получим равновесный по Нэшу набор стратегий в
исходной игре $\Gamma_E$. Обратно, если из набора равновесных стратегий в игре
$\Gamma_E$ удалить набор ходов, которые делаются в информационных множествах
под-игры $S$ и заменить под-дерево $S$ терминальной вершиной с соответствующими
выигрышами, то мы получим набор стратегий, образующих равновесие по Нэшу в игре
$\widehat\Gamma_E$.

Равновесная траектория сама определяется ожиданиями игроков
относительно того, что произошло бы, если бы они выбирали другие ходы --
если бы они повернули на вне-равновесную траекторию и начали
вне-равновесную под-игру. Обратная индукция требует, чтобы все
игроки делали свои наилучшие ходы в \emph{каждой} под-игре большей игры,
независимо от того, лежит ли эта под-игра на траектории итогового
равновесного исходя.

Рассмотрим модификацию нашего примера. Предположим, что есть две
части рынка, две ниши~--- малая ниша (м.н.) и большая ниша (б.н.)
(см. рис.\,????).


ExtForm7.


Чтобы найти СПРH, рассмотрим вначале пост-входную
под-игру. Здесь два равновесия по Нэшу в чистых стратегиях (б.н.,
м.н.) и (м.н., б.н.).

В любом СПРH в этой под-игре должно индуцироваться одно из этих
равновесий по Нэшу. Предположим сначала, что  фирмы играют (б.н.,
м.н.), а следовательно, редуцированная игра будет иметь вид,
изображенный в левой части рис.\,ExtForm8. В этом случае $E$ выбирает входить,
следовательно, СПРH~--- это ($\sigma_E$, $\sigma_I$)=((вход, б.н.),
(м.н., если $E$ вошла)).

Во втором случае редуцированная игра представлена в правой части рис.\,ExtForm8.


ExtForm8.


Следовательно, СПРH ($\sigma_E$, $\sigma_I$)= ((не вх., м.н.),
(б.н., если $E$ вошла).

Разумеется, как всегда, не все так просто и с СПРH. Рассмотрим
следующую игру (Rabin, 1988) (рис.\,?????).


ExtForm9.



В координационной игре с одновременными ходами между 1 и
3 игроками три равновесия по Hэшу:  два в чистых стратегиях,
приводящих к выигрышам (7,10,7), и равновесие в смешанных
стратегиях, дающее выигрыши (3.5, 5, 3.5). Если мы выбираем
равновесие, в котором игроки 1 и 3 успешно координируются, то игрок
2 играет $L$, а игрок 1~--- $R$, ожидая выигрыш 7. Если же мы
выбираем неэффективное равновесие в смешанных стратегиях, то игрок 2
сыграет $R$, а 1~--- снова $R$, ожидая выигрыш 8. Поэтому во всех
СПРH игрок 1 играет $R$.

Hо, ... тем не менее игроку 1 будет осмысленно сыграть $L$, если он
не
 увидел возможности координации на 3-м шаге, а поэтому ожидает
выигрыш $3\frac{1}{2}$, но опасается того, что игрок 2 может верить,
что при игре на 3-м шаге будет достигнуто эффективное равновесие.

Суть здесь в том, что под-игровое совершенство
предполагает не только nj, что игроки ожидают р.H. во всех под-играх,
но также и что все игроки ожидают {\it одно и то же} равновесие.
